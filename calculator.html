<!DOCTYPE html>
<html>
    <head>
        <title>Calculator</title>
        <style>
            body{
                background-image: url(XZDsP.jpg);
                background-repeat: no-repeat;
            }
            .container{
                border-radius: 5%;
                background-color: transparent;
                width: 300px;
                padding: 3px;
                border: 2px solid white;
                height: 320px;
                margin-left: 38%;
                margin-top: 8%;
            }
            .numbers{
                width: 99%;
                padding: 3px;
                background-color: transparent;
                flex-wrap: wrap;
                margin-top: -30px;
            }
            .num{
                float: left;
                width: 24%;
                background-color: transparent;
                padding: 1px;
            }
            input{
                width: 100%;
                height: 50px;
                background-color: transparent;
                color: white;
                font-size: 2em;
                font-family: sans-serif;
                border-radius: 100%;
            }
            .display{
                background-color: black;
                color: white;
                margin-left: 5px;
                margin-right: 5px;
                text-align: right;
                font-size: 40px;
                border-radius: 10%;
            }
            .display p{
                height: 50px;
                margin-top: 3px;
            }
            .clear{
                width: 50%;
                float: left;
                margin-bottom: 1px;
                margin-top: -34px;
                background-color: transparent;
            }
                  
        </style>
        <script src="js_exercises/node_modules/mathjs/dist/math.js" type="text/javascript"></script>
    </head>
    <body>
        <div class='container'>
            <div class="display">
                <p id="disp"></p>
            </div>
            <div class="clear">
                <input id ='ac' type="button" value="AC" />
            </div>
            <div class="clear">
                <input id ='c' type="button" value="C" />
            </div>
            <div class='numbers'>
                <div class='num'>
                    <input id ='seven' type="button" value="7" />
                </div>    
                <div class='num'>
                    <input id="eight" type="button" value="8" />
                </div>
                <div class='num'>
                    <input id="nine" type="button" value="9" />
                </div>
                <div class='num'>
                    <input id="divide" type="button" value=&#xF7 />
                </div>
                <div class='num'>
                    <input id="four" type="button" value="4" />
                </div>
                <div class='num'>
                    <input id="five" type="button" value="5" />
                </div>
                <div class='num'>
                    <input id="six" type="button" value="6" />
                </div>
                <div class='num'>
                    <input id="mult" type="button" value="x" />
                </div>
                <div class='num'>
                    <input id="one" type="button" value="1" />
                </div>
                <div class='num'>
                    <input id="two" type="button" value="2" />
                </div>
                <div class='num'>
                    <input id="three" type="button" value="3" />
                </div>
                <div class='num'>
                    <input id="minus" type="button" value="-" />
                </div>
                <div class='num'>
                    <input id="zero" type="button" value="0" />
                </div>
                <div class='num'>
                    <input id="decimal" type="button" value="." />
                </div>
                <div class='num'>
                    <input id="equals" type="button" value="=" />
                </div> 
                <div class='num'>
                    <input id="plus" type="button" value="+" />
                </div>
                    
            </div>
        </div>
        <script type="text/javascript">
            var one = document.querySelector('#one');
            var two = document.querySelector('#two');
            var three = document.querySelector('#three');
            var four = document.querySelector('#four');
            var five = document.querySelector('#five');
            var six = document.querySelector('#six');
            var seven = document.querySelector('#seven');
            var eight = document.querySelector('#eight');
            var nine = document.querySelector('#nine');
            var zero = document.querySelector('#zero');
            var decimal = document.querySelector('#decimal')
            var ac = document.querySelector("#ac");
            var c = document.querySelector("#c");            
            var add = document.querySelector('#plus');
            var subtract = document.querySelector('#minus');
            var multiply = document.querySelector('#mult');
            var divide = document.querySelector('#divide');
            var equals = document.querySelector('#equals');
            var display = document.querySelector('#disp');
            var nums = document.querySelector('.numbers');
            var a = [];
            var oper = '';
            one.addEventListener('click', function click(){
                var str = display.innerHTML;
                if(str.length < 14){
                display.innerHTML = display.innerHTML + "1";
            }})
            two.addEventListener('click', function click(){
                var str = display.innerHTML;
                if(str.length < 14){
                display.innerHTML = display.innerHTML + "2";
            }})
            three.addEventListener('click', function click(){
                var str = display.innerHTML;
                if(str.length < 14){
                display.innerHTML = display.innerHTML + "3";
            }})
            four.addEventListener('click', function click(){
                var str = display.innerHTML;
                if(str.length < 14){
                display.innerHTML = display.innerHTML + "4";
            }})
            five.addEventListener('click', function click(){
                var str = display.innerHTML;
                if(str.length < 14){
                display.innerHTML = display.innerHTML + "5";
            }})
            six.addEventListener('click', function click(){
                var str = display.innerHTML;
                if(str.length < 14){
                display.innerHTML = display.innerHTML + "6";
            }})
            seven.addEventListener('click', function click(){
                var str = display.innerHTML;
                if(str.length < 14){
                display.innerHTML = display.innerHTML + "7";
            }})
            eight.addEventListener('click', function click(){
                var str = display.innerHTML;
                if(str.length < 14){
                display.innerHTML = display.innerHTML + "8";
            }})
            nine.addEventListener('click', function click(){
                var str = display.innerHTML;
                if(str.length < 14){
                display.innerHTML = display.innerHTML + "9";
            }})
            zero.addEventListener('click', function click(){
                var str = display.innerHTML;
                if(str.length < 14 && str.length > 0){
                display.innerHTML = display.innerHTML + "0";
            }})
            decimal.addEventListener('click', function click(){
                var str = display.innerHTML;
                var n = str.includes('.');
                if(str.length < 14){
                if(n != true){
                display.innerHTML = display.innerHTML + ".";
            }}})
            ac.addEventListener('click', function click(){
                window.location.reload(false);
            })
            c.addEventListener('click' , function click(){
                var str = display.innerHTML;
                var l = str.length;
                var x = str.split("")
                var join = x.pop();
                var end = x.join('');
                display.innerHTML = end;
            })
            add.addEventListener('click' , function click(){
                var oper = '+';
                var str = display.innerHTML;
                a.push(str);
                a.push(oper);
                display.innerHTML = '';
                console.log(a);
            })
            subtract.addEventListener('click' , function click(){
                var oper = '-';
                var str = display.innerHTML;
                a.push(str);
                a.push(oper);
                display.innerHTML = '';
                console.log(a);
            })
            multiply.addEventListener('click' , function click(){
                var oper = '*';
                var str = display.innerHTML;
                a.push(str);
                a.push(oper);
                display.innerHTML = '';
                console.log(a);
            })
            divide.addEventListener('click' , function click(){
                var oper = '/';
                var str = display.innerHTML;
                a.push(str);
                a.push(oper);
                display.innerHTML = '';
                console.log(a);
            })
            equals.addEventListener('click', function click(){
                var str = display.innerHTML;
                a.push(str);
                var res = a.join('');
                var eval = math.evaluate(res);
                display.innerHTML = eval;
                if(eval != NaN){
                    a = [];
                }
            })
            window.addEventListener('keydown' , function key(event){
                var y = event.which;
                if(y==97){
                var str = display.innerHTML;
                    if(str.length < 14){display.innerHTML = display.innerHTML + "1";}
                    }else if(y==98){var str = display.innerHTML;
                if(str.length < 14){
                display.innerHTML = display.innerHTML + "2";}
                    }else if(y==99){var str = display.innerHTML;
                if(str.length < 14){
                display.innerHTML = display.innerHTML + "3";}
                    }else if(y==100){var str = display.innerHTML;
                if(str.length < 14){
                display.innerHTML = display.innerHTML + "4";}
                    }else if(y==101){var str = display.innerHTML;
                if(str.length < 14){
                display.innerHTML = display.innerHTML + "5";}
                    }else if(y==102){var str = display.innerHTML;
                if(str.length < 14){
                display.innerHTML = display.innerHTML + "6";}
                    }else if(y==103){var str = display.innerHTML;
                if(str.length < 14){
                display.innerHTML = display.innerHTML + "7";}
                    }else if(y==104){var str = display.innerHTML;
                if(str.length < 14){
                display.innerHTML = display.innerHTML + "8";}
                    }else if(y==105){var str = display.innerHTML;
                if(str.length < 14){
                display.innerHTML = display.innerHTML + "9";}
                    }else if(y==96){   var str = display.innerHTML;
                if(str.length < 14 && str.length > 0){
                display.innerHTML = display.innerHTML + "0";
                }}
                else if(y==110){
                    var str = display.innerHTML;
                    var n = str.includes('.');
                    if(str.length < 14){
                    if(n != true){
                    display.innerHTML = display.innerHTML + ".";
                    }}   
                }
                else if(y==35){
                    window.location.reload(false);
                }
                else if(y==8){
                    var str = display.innerHTML;
                    var l = str.length;
                    var x = str.split("")
                    var join = x.pop();
                    var end = x.join('');
                    display.innerHTML = end;
                }
                else if(y==107){
                    var oper = '+';
                    var str = display.innerHTML;
                    a.push(str);
                    a.push(oper);
                    display.innerHTML = '';
                    console.log(a);
                }
                else if(y==109){
                    var oper = '-';
                    var str = display.innerHTML;
                    a.push(str);
                    a.push(oper);
                    display.innerHTML = '';
                    console.log(a);
                }
                else if(y==106){
                    var oper = '*';
                    var str = display.innerHTML;
                    a.push(str);
                    a.push(oper);
                    display.innerHTML = '';
                    console.log(a);
                }
                else if(y==111){
                    var oper = '/';
                    var str = display.innerHTML;
                    a.push(str);
                    a.push(oper);
                    display.innerHTML = '';
                    console.log(a);
                }
                else if(y==13){
                    var str = display.innerHTML;
                    a.push(str);
                    var res = a.join('');
                    var eval = math.evaluate(res);
                    display.innerHTML = eval;
                    if(eval != NaN){
                        a = [];
                    }
                }
            })
        </script>
    </body>
</html>